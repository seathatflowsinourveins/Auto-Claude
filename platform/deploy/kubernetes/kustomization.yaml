# Ultimate Autonomous Platform - Kustomization
# Manages all Kubernetes resources for the platform
#
# Usage:
#   kubectl apply -k deploy/kubernetes/
#   kubectl delete -k deploy/kubernetes/
#
# With overlays (for different environments):
#   kubectl apply -k deploy/kubernetes/overlays/production/

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: uap

# Common labels for all resources
commonLabels:
  app.kubernetes.io/part-of: ultimate-autonomous-platform
  app.kubernetes.io/version: "1.0.0"

# Resources to deploy
resources:
  - namespace.yaml
  - configmap.yaml
  - qdrant.yaml
  - neo4j.yaml
  - letta.yaml
  - redis.yaml

# Optional: Image tag overrides
# images:
#   - name: qdrant/qdrant
#     newTag: v1.8.0
#   - name: neo4j
#     newTag: 5.16.0

# Optional: Replica count patches
# patches:
#   - target:
#       kind: Deployment
#       name: qdrant
#     patch: |-
#       - op: replace
#         path: /spec/replicas
#         value: 2
